\documentclass[12pt]{article}

\usepackage[dutch]{babel}
\usepackage{graphics}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{eurosym}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{enumitem}
\usepackage{tabto}
\NumTabs{10}

\begin{document}

\begin{titlepage}
\begin{center}

\textsc{\LARGE Universiteit Utrecht}\\[1.6cm]

\textsc{\Large Programmeren in de Wiskunde}\vspace{2pc}

{\huge \bfseries Verslag Eindopdracht}
\vspace{3pc}

\begin{minipage}{0.7\textwidth}
\begin{flushleft} \large
\emph{Begeleider:} \\
Emiel \textsc{Broeders} 
\end{flushleft}
\begin{flushleft} \large
\emph{Auteurs:}\\
Wessel \textsc{van Eeghen} \tab\#4007557\\
Mathijs \textsc{de Lepper}  \tab\#3987949\\
Jurriaan \textsc{Parie}  \tab\tab\#3938549
\end{flushleft}
\end{minipage}
\begin{minipage}{0.4\textwidth}
\end{minipage}
\vspace{10pc} 

\textsc{\Large Expressieboom}\\[4.0cm]
{\large \today}
\end{center}
\end{titlepage}

\newpage

\section{Inleiding}


\section{De Opdracht - Code}
\subsection{Theoretische Achtergrond}
Berekening, \textit{Shunting Yard}-algoritme, \textit{stack}, \textit{output}.\\ \newline
De nieuwe klasses 

\subsection{Aanpassingen}

\subsubsection*{Het vertalen van een Expressie naar een string}
haakjes stukje?

\subsubsection*{Gelijke bomen?}
We willen twee bomen kunnen vergelijken. Dit doen we door in de verschillende klassen een overload van \textit{\_\_eq\_\_} te gebruiken. Op deze manier worden de twee expressiebomen vanaf een top-down approach bekeken en vergeleken.
\begin{align*}
&\texttt{a = Expression.fromString('3sin(x)'))}\\
&\texttt{>>> print(a)}\\
&\texttt{3 * sin(x)}\\
&\texttt{b = Expression.fromString('sin(x)3')}\\
&\texttt{>>> print(b)}\\
&\texttt{sin(x) * 3}\\
&\texttt{>>> a == b}\\
&\texttt{False}
\end{align*}


\subsubsection*{De klasse Variable en het berekenen van numerieke waarden}
Om ook variabelen te ondersteunen hebben we een klasse \textit{Variable} geschreven, die een subklasse is van \textit{Constant}. Hierin staat een constructor en een overload van  \textit{\_\_str\_\_}, die zichzelf als waarde teruggeeft en een overload van \textit{evaluate}. Als er een waarde is meegegeven voor de variabele, dan willen we deze waarde gebruiken in de berekening. Als dit niet het geval is, dan moet de variabele als variabele worden teruggegeven. Zo kunnen we numerieke waarden berekenen van een expressie.
\begin{align*}
&\texttt{a = Expression.fromString('3sin(x)'))}\\
&\texttt{>>> a.evaluate()}\\
&\texttt{'3.0 * sin(x)'}\\
&\texttt{>>> a.evaluate({'x':math.pi/2})}\\
&\texttt{3.0}\\
\end{align*}

\subsubsection*{Evaluate}
Zoals in het voorgaande stukje te zien is, kunnen we numerieke waarden van expressies berekenen. Dit doen we door middel van een functie \textit{evaluate}. In \textit{Expressie}, de hoofd-/superklasse van de code, hoeft er nog niks te gebeuren. We gebruiken daarom een \textit{pass} en overloaden de methode in de subklassen van \textit{Expressie}. Zo willen we bijvoorbeeld bij de klasse \textit{BinaryNode}, dat (recursief) de linker- en rechterkant worden ge\"{e}valueerd. Afhankelijk van wat de zogeheten \textit{child} teruggeeft willen we een uiteindelijke waarde of expressie teruggeven aan de oproep. Dit houdt bijvoorbeeld in dat een constante zijn eigen waarde teruggeeft en een variabele \textit{x} geeft \'{o}f \textit{x} terug \'{o}f de waarde die voor \textit{x} is meegegeven in de vorm van een \textit{dictionary}.

\subsection{Extra's}

\subsubsection*{Bekende en Onbekende Functies - de Unaire Boom}
Om niet alle elementen uit een berekening in een \textit{binaire boom} te hoeven plaatsen, hebben we voor de mogelijkheid om ook \textit{functies} mee te kunnen nemen in een berekening de \textit{unaire boom} geintroduceerd. Deze \textit{unaire boom} heeft slecht \'e\'en kind - hetgeen de functie evalueert - wat op zichzelf weer een \textit{unaire}- danwel een \textit{binaire boom} kan zijn. Dit laat dus toe dat berekeningen van \textit{functies} in \textit{functies} mogelijk zijn.
\begin{align*}
&\texttt{>>> Expression.fromString('sin x ** sinh cosh x')}\\
&\texttt{sin(x) ** sinh(cosh(x))}
\end{align*}

\subsubsection*{Negatie}
Het $-$ teken kent een dubbele betekenis. In het geval van \textit{negatie} vervangen we het $-$ teken in onze berekening door een $\sim$ om het voor het vervolgens als een functie beschouwen. 
\begin{align*}
&\texttt{>>> expr =  print(Expression.fromString('-x / y + -sin -x'))}\\
&\texttt{-x / y + -sin(-x)}\\
&\texttt{>>> print(expr.evaluate({'x':1.57, 'y':3.14}))}\\
&\texttt{0.4999996829318346}
\end{align*}

\newpage
\section{Taakverdeling}

\begin{center}
    \begin{tabular}{ | l | p{4cm}  | p{4cm} | p{4cm} |}
    \hline
    Dag & Jurriaan & Mathijs & Wessel \\ \hline
    11 juni & Carri\`eremiddag & Carri\`eremiddag & Code begrijpen \\ \hline
    16 juni & Presentatie + Code begrijpen & Presentatie + EvaluateFunction voor alles behalve variabelen & Nieuwe operatoren  $(-, *, /, **$ etc.$)$ \\ \hline
    18 juni & Begin variabelen in de expressieboom & EvaluateFunction afmaken & Reduceren van haakjes \\ \hline
    23 juni & Standaard en onbepaalde functies & Versimpeling en GitHub & Extra omschrijving + GitHub \\ \hline
    25 juni & Functies afmaken, begin negatie & \texttt{4log(sin(3xy))} is nu \texttt{4*log(sin(3*x*y))} & Versimpeling van de boom en versimpeling van de uitdrukkingen \\ \hline
    30 juni & Negatie is af en functies zonder haakjes & Bisection ge\"{i}mporteerd (werkt voor simpele functies) en PEP8 & Versimpelen is nu af \\
    \hline
    \end{tabular}
\end{center}

\section{Discussie}
Waarom we ervoor gekozen hebben om bijvoorbeeld wel negatie te doen en niet differenti\"eren.


\section{Reflectie}

\begin{thebibliography}{9}
\bibitem{ftcs}
J.C. Tannehill; D.A. Anderson; R.H. Pletcher, Computational Fluid Mechanics and Heat Transfer (2nd ed.), Taylor \& Francis (1997).
\end{thebibliography}


\end{document}